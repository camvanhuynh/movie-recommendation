<!DOCTYPE html>
<html>
<head>
	<title>Movie Recommendation</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://code.angularjs.org/1.2.13/angular.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.8/angular-ui-router.min.js"></script>
	<script src="./scripts/app.js"></script>

</head>
<body ng-app="MovieRecommendationApp">

	<!-- <div ui-view></div> -->
<div ng-controller="viewEditController as vm">

<div ng-if="!vm.isEditing" name ="form">
	<table class='table'>
	    <thead>
	      <tr>
	        <th>Title</th>
	        <th>Release date</th>
	        <th>Duration</th>
	        <th>Genre</th>
	        <th>Synopsis</th>
	      </tr>
	    </thead>
	    <tbody>
	      <tr>
	        <td>{{vm.movie.title}}</td>
	        <td>{{vm.movie.date}}</td>
	        <td>{{vm.movie.duration}} mins</td>
	        <td>{{vm.movie.genre}}</td>
	        <td>{{vm.movie.synopsis}}</td>
	      </tr>
	    </tbody>
			<tfoot>
				<tr><td><input ng-click="vm.edit()" class="btn btn-info" value="EDIT"></td></tr>
			</tfoot>
	</table>
</div>

<div ng-if="vm.isEditing">
	<form name="editForm">
	  <div class='form-group' ng-submit="submitForm(editForm.$valid)">
	    <label for="title">Title</label>
	    <input type="text" class="form-control" name="title" id="title" ng-model="vm.change.title" required>
			<p ng-show="editForm.title.$invalid" style="color:red;">Title is required.</p>
	  </div>
	  <div class='form-group'>
	    <label for="date">Release date</label>
	    <input type="date" class="form-control" name="date" id="date" ng-model="vm.change.date" required>
			<p ng-show="editForm.date.$invalid" style="color:red;">Not a valid date.</p>
	  </div>
	  <div class='form-group'>
	    <label for="duration">Duration</label>
	    <input type="number" class="form-control" name="duration" id="duration" ng-model="vm.change.duration" required>
			<p ng-show="editForm.duration.$invalid" style="color:red;">Duration is number only.</p>
	  </div>
	  <div class='form-group'>
	    <label for="genre">Genre</label>
	    <input type="text" class="form-control" id="genre" ng-model="vm.change.genre">
	  </div>
	  <div class='form-group'>
	    <label for="synopsis">Synopsis</label>
	    <input type="text" class="form-control" id="synopsis" ng-model="vm.change.synopsis">
	  </div>

	  <input type="submit" class="btn btn-info" value="SAVE CHANGE">
	  <input ng-click="vm.cancel()" class="btn btn-info" value="CANCEL">


	</form>

</div>
</div>
</body>
</html>
